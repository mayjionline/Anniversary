:root { --bg1:#fff5f9; --bg2:#ffe4ef; --accent:#ff4d8d; --ink:#2f2a2a; }
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Inter,"Noto Sans Thai",sans-serif;color:var(--ink);
  background:radial-gradient(1200px 600px at 50% -10%,var(--bg2),var(--bg1))}
#qr-section{text-align:center;display:grid;gap:12px;justify-items:center;padding:24px}
.title{margin:6px 0 0;font-size:24px}.hint{margin:0 0 10px;opacity:.7;font-size:14px}
.heart-mask{position:relative;width:260px;height:260px;display:grid;place-items:center;padding:16px;background:#fff;border-radius:24px;box-shadow:0 10px 40px rgba(255,77,141,.25)}
#qr-container{width:220px;height:220px;display:grid;place-items:center;background:#fff;border:2px solid #ffb6cc;border-radius:20px;
  -webkit-mask:radial-gradient(50px 50px at 35% 35%,#000 99%,transparent) no-repeat,
                 radial-gradient(50px 50px at 65% 35%,#000 99%,transparent) no-repeat,
                 linear-gradient(#000 0 0);
  -webkit-mask-size:50% 55%,50% 55%,100% 70%; -webkit-mask-position:0 0,100% 0,0 30%;
          mask:radial-gradient(50px 50px at 35% 35%,#000 99%,transparent) no-repeat,
               radial-gradient(50px 50px at 65% 35%,#000 99%,transparent) no-repeat,
               linear-gradient(#000 0 0);
  mask-size:50% 55%,50% 55%,100% 70%; mask-position:0 0,100% 0,0 30%}
.btn{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);background:var(--accent);color:#fff;border:0;padding:10px 14px;border-radius:999px;cursor:pointer;box-shadow:0 6px 18px rgba(255,77,141,.35);font-weight:600}
.btn:active{transform:translateX(-50%) translateY(1px)}
#stage{position:relative;width:min(900px,90vw);height:60vh;min-height:420px;border-radius:28px;background:linear-gradient(180deg,#fff,#ffeef4 55%,#ffd7e6);box-shadow:0 20px 60px rgba(255,77,141,.25);overflow:hidden;display:none;margin:24px auto}
#rain{position:absolute;inset:0;pointer-events:none;opacity:0;transition:opacity .5s ease}
#stage.rain-on #rain{opacity:1}
.drop{position:absolute;top:-120%;white-space:pre;font-weight:700;font-size:clamp(14px,2.6vw,24px);color:rgba(255,77,141,.75);animation:fall var(--dur) linear var(--delay) infinite}
@keyframes fall{to{transform:translateY(220%)}}
#pig-wrap{position:absolute;bottom:40px;left:50%;transform:translateX(50vw)}
#pig-wrap.walk{animation:pig-walk 6s ease-in-out forwards}
@keyframes pig-walk{from{transform:translateX(50vw)}to{transform:translateX(-70vw)}}
#message{position:absolute;bottom:120px;left:50%;transform:translateX(-50%);opacity:0;transition:opacity .6s ease,transform .6s ease}
#message.show{opacity:1}
.bubble{background:#fff;border:2px solid #ffc1d4;padding:14px 18px;border-radius:16px;box-shadow:0 10px 30px rgba(255,77,141,.18);font-size:clamp(16px,2.6vw,20px);text-align:center}
